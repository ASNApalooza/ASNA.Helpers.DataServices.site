<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="favicon.ico">

    <title>Documentation Template</title>

    <!-- Bootstrap core CSS -->
    <!-- <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/css/bootstrap.min.css"> -->
    <link href="public/vendor/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="public/css/index.css" rel="stylesheet">



    <!-- Just for debugging purposes. Don't actually copy this line! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <style>
.content {padding-top: 80px ;padding-bottom: 20px}

@media (min-width:768px){
  #components .list-group {position: fixed; width:18%;}
}

@media (min-width:1024px){
  #components .list-group {position: fixed; width:18%;}
}

@media (min-width:1400px){
  #components .list-group {position: fixed; width:14%;}
}


@media (min-width:1920px){
  #components .list-group {position: fixed; width:14%;}
}


    </style>

  </head>

  <body>

    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Home</a>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav" id="tabs">
            <li><a href="#components" data-toggle="tab">Documentation</a></li>
            <li><a href="#about" data-toggle="tab">About</a></li>
          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>

    <div class="content container tab-content">
      <div class="tab-pane active" id="home">
        <div class="jumbotron">
          <h1>Some Framework</h1>
          <p>This is a template for a documentation website for a programming framework or library. It includes a template for components description with a navigation list.</p>
          <p><a href="#" class="btn btn-primary btn-lg" role="button">Download &darr;</a></p>
        </div>
      </div>

      <div class="tab-pane" id="components">
        <div class="row">
          <div class="col-sm-3">
            <div class="list-group">
              <a href="#qf-overview" class="list-group-item">Overview</a>
              <a href="#qf-instance-args" class="list-group-item">QueryFileInstanceArgs</a>
              <a href="#item3" class="list-group-item">Item #3</a>
              <a href="#item4" class="list-group-item">Item #4</a>
              <a href="#item5" class="list-group-item">Item #5</a>
            </div>
          </div><!-- /.col-sm-3 -->

          <div class="col-sm-9">
            <!-- Item #1. -->
<!-- ||||||||||||||||||||||||||||||||||||||||||||||||||||||| -->
<!-- Content starts here -->
            <div id="qf-export-to-json" class="content section">
              <h2>Export to Json</h2>
                <p>Walter is a component that performs dynamic read-only queries against DataGate databases. It works against physical and logical files. Walter aims to provide a declarative model that makes is easy to fetch performant dynamic query results with a minimal of effort and with a high . It takes about 12 lines of code to configure Walter and produce output with it. When used against the IBM i, Walter consistently produces output in less than 1/10 of a second. </p>

                <pre class="prettyprint linenums">Using ASNA.Helpers.DataServices

DclFld db     Type(AdgConnection)
DclFld Query  Type(QueryDriver) 
DclFld Json   Type(*String)

db = *New AdgConnection("*Public/IBMi") 

Query = *New QueryDriver(db)
Query.Args.Inputs.Library    = "examples"
Query.Args.Inputs.File       = "CMastNewL2"
Query.Args.Inputs.FieldsList = "CMCUSTNO:number,CMNAME:name,CMSTATE:state"
Query.Args.Inputs.Rows       = -1
Query.Args.Inputs.Query      = "CMSTATE = '{CMSTATE}'"
Query.Args.Inputs.QueryFields.Add(*New QueryField("CMSTATE",State))

Query.OverrideAdapter(*New ASNA.Helpers.DataServices.ToJsonAdapter(Query.Args)) 

Json = Query.Exec() *As *String</pre>


<div class="panel-group" id="accordion">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">
        <a data-toggle="collapse" data-parent="#accordion" href="#qf-export-to-json-collapse">
          Toggle source code annotation
        </a>
      </h4>
    </div>
    <div id="qf-export-to-json-collapse" class="panel-collapse collapse">
      <div class="panel-body">
                <table class="table table-striped">
                <tr>
                <th>Line</th>
                <th>Description</th>
                </tr>
                <tr>
                <td>01-15</td>
                <td>Line 5 declares a string variable named "Json" to receive Walter's resulting Json. Otherwise lines 1-15 are the same as 
                as the other output types.</td>
                </tr>
                <tr>
                <td>17</td>
                <td>Override Walter's default output adapter with its standard Json adapter. This Json output adapter uses the field aliases
                 specified on line 12 to name the data keys in the Json (more on this in a moment).</td>
                </tr>
                <tr>
                <tr>
                <td>19</td>
                <td>Produce the Json.</td>
                </tr>
                </table>
            </div> <!-- .panel-body -->
      </div><!-- panel-collapse collapse -->
    </div><!-- panel -->
</div><!-- panel group -->

A sample of Walter's Json is shown below. Note that each field is identified by the keys specified with the field alises in Line 12 of the code above. The "list" node in the Json is the Json list. The other nodes are informational meta data about the query that might come in handy. This query meta will be discussed in more detail later. 
<br/><br/>
<pre class="prettyprint linenums">{
  "resultRowCount": 4,
  "totalRowCount": 995,
  "rowCountPhrase": "4 of ~995",
  "milliseconds": "41",
  "list": [
    {
      "number": "11200",
      "name": "Marley Services Cooperative Blue Tech",
      "state": "IN"
    },
    {
      "number": "5400",
      "name": "Red Laboratories Inc Computer Inc",
      "state": "IN"
    },
    {
      "number": "10300",
      "name": "Howard Corporation Consulting Assoc Inc",
      "state": "IN"
    },
    {
      "number": "40400",
      "name": "Port Inc Systems Agents Associates",
      "state": "IN"
    }
  ],
  "startingKey": [],
  "endingKey": []
}</pre>
<!-- Content ends here -->
<!-- ||||||||||||||||||||||||||||||||||||||||||||||||||||||| -->
          </div>
        </div>
      </div>
    </div><!-- /.container -->

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->

    <!-- jQuery Version 1.11.0 -->
    <script src="public/vendor/jquery/dist/jquery.js"></script>

    <!-- Bootstrap Core JavaScript -->
    <script src="public/vendor/bootstrap/dist/js/bootstrap.min.js"></script>

    <script>
      /* scroll to top when clicked on navbar */
      $(".navbar > .container").on("click", function(e){
        $('html,body').animate({scrollTop:0},'slow');
      });

      /* brand logo click */
      $(".navbar-brand").on("click",function(){
        $("#home").addClass("active").siblings().removeClass("active");
        $("#tabs > li").removeClass("active");
      });

      /* make list-group selectable */
      $(".list-group>a").on("click", function(){
        $(this).addClass("active").siblings().removeClass("active");
      });

      /* auto select list-group item on scroll */
      $(document).scroll(function(){
        $('.section').each(function(){
          var position = $(document).scrollTop() - $(this).offset().top;
          if(position < 30 && position > -115) {
            $($('a[href$='+$(this).attr("id")+']')).click();
          }
        });      
      });

      /* set hash on tab select */
      $('#tabs a').click(function() {
        window.location.hash = $(this).attr("href");
        $(document).scrollTop(0);
        $(".list-group > a").removeClass("active");
      });

      $(document).ready(function(){

        if(window.location.hash !== ""){
          /* open tab based on hash value */
          if($('#tabs > li > a[href="'+window.location.hash+'"]').length){
            $('#tabs > li > a[href="'+window.location.hash+'"]').tab('show');
            setTimeout(function(){$(document).scrollTop(0)}, 200);
          }
          /* open tab and section based on hash value */
          if($('.list-group > a[href="'+window.location.hash+'"]').length){
            var tab = $('.list-group > a[href="'+window.location.hash+'"]').closest(".tab-pane").attr("id");
            $('a[href="#'+tab+'"]').tab('show');
            $('.list-group > a[href="'+window.location.hash+'"]').click();
            setTimeout(function(){$(document).scrollTop($(window.location.hash).offset().top)}, 200);
          }
        }
      });
    </script>
  </body>
</html>
